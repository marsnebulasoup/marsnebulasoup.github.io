<html>

<head>
	<link href="css/bulma_custom/css/mystyles.css" rel="stylesheet" />
</head>

<body style="background-color:black">
	<style>
		.searchbarhints ul {
			padding-top: 2%;
			padding-left: 0.1%;
			padding-bottom: 4%;
			/* border: 2px solid white; */
			/* border-radius: 10px; */
		}

		.searchbarhints li {
			padding: 2%;
			border-radius: 5px;
		}

		.selected {
			opacity: 0.7;
			background-color: #1f1f1f;
		}
		.searchbarhints li:hover {
			opacity: 0.8;
			background-color: #171717;
		}


		.searchbarhintsborder {
			border: 2px solid white;
			border-top-left-radius: 32px;
			border-top-right-radius: 32px;
			border-bottom-left-radius: 32px;
			border-bottom-right-radius: 32px;
		}

		.searchbarhintsbar {
			border-top: none !important;
			border-left: none !important;
			border-right: none !important;
			border-bottom: 2px solid white;
			border-top-left-radius: 32px !important;
			border-top-right-radius: 32px !important;
			border-bottom-left-radius: 0px !important;
			border-bottom-right-radius: 0px !important;
		}
	</style>

	<div style=" width:30%; margin: 10%;">
		<ul class="searchbarhintsborder">
			<li>
				<input class="input is-rounded is-large searchbarhintsbar" placeholder="Search"></input>
			</li>
			<li>
				<div class="searchbarhints">
					<ul id="searchbarhintslist">
						<li style="height: 0 !important; padding: 0 !important;"></li>
						<li>
							<p>The fallen grave</p>
						</li>
						<li>
							<p>The fallen grave</p>
						</li>
						<li>
							<p>The fallen grave</p>
						</li>
						<li>
							<p>The fallen grave</p>
						</li>
						<li>
							<p>The fallen grave</p>
						</li>
					</ul>
				</div>
			</li>

		</ul>

	</div>

	<script>
		var ul = document.getElementById('searchbarhintslist');
		var nodes = ul.querySelectorAll('li');
		var selected = 0;


		document.addEventListener('keydown', function (e) {
			if (e.keyCode === 38) { // up
				e.preventDefault();
				select(nodes[selected - 1]);
			}
			if (e.keyCode === 40) { // down
				e.preventDefault();
				select(nodes[selected + 1]);
			}
		});

		function select(el) {
			var s = [].indexOf.call(nodes, el);
			if (s === -1) return;

			selected = s;

			var elHeight = parseFloat(getComputedStyle(el, null).height.replace("px", ""))
			var scrollTop = ul.scrollTop;
			var viewport = scrollTop + parseFloat(getComputedStyle(ul, null).height.replace("px", ""))
			var elOffset = elHeight * selected;

			console.log('select', selected, ' viewport', viewport, ' elOffset', elOffset);
			/* if (elOffset < scrollTop || (elOffset + elHeight) > viewport)
			  $(ul).scrollTop(elOffset); */

			var currentselected = document.querySelector('li.selected');
			console.log(currentselected)
			if (currentselected != null && currentselected.classList.contains("selected")) {
				currentselected.classList.remove('selected');
			}
			el.classList.add('selected');
		}


	</script>

</body>

</html>